<!doctype html>
<html lang="en">

<head>
    <title>Emergin Tech</title>
    <!-- Getting the CSS -->
    <link href="/static/CSS/style.css" rel="stylesheet">
</head>

<body>
    <form>
        <div class="segment">
            <h2>Calculate Turbine Power</h2>
        </div>
        <div>
            <label>
                <!-- Place your speed value -->
                <input type="number" name="speed" id="speedValue" placeholder="Enter Speed" required />
            </label>
            <label>
                <!-- Outputs the power value -->
                <input type="name" id="powerValue" readonly />
            </label>
            <!-- Pressing the button calls the caluclate function to calculate turbine power -->
            <button class="red" type="button" onclick="postData();">Calculate</button>
        </div>
    </form>
</body>

<script>

    async function postData() {
        // get the element speedValue
        var speed = document.getElementById("speedValue");
        const value = await fetch('/calculate/power',
            {
                method: 'POST', body: JSON.stringify({ speed: speed.value })
            }).then(data => {
                return data.json()
            }).then(res => {
                return res
            }).catch((err) => {
                console.log(err);
            });
        // get the element powerValue
        document.getElementById('powerValue').value = value;
    }

</script>

</html>